<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
<title>Hawkins Trivia</title>

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<style>
  :root {
    --bg:#0b0b0f; --panel:#111219; --text:#fff; --muted:rgba(255,255,255,.7);
    --accent:#b11226; --border:#b11226; --btn:#b11226; --btnText:#fff;
  }
  body {
    margin:0; font-family:-apple-system, system-ui, Arial, sans-serif;
    background:var(--bg); color:var(--text);
    height:100vh; display:flex; justify-content:center; align-items:center;
  }
  body.upside {
    --bg:#050507; --panel:#0a0a0f; --accent:#ff2448; --border:#ff2448; --btn:#ff2448; --btnText:#0b0b0f;
  }
  .screen { width:100%; max-width:520px; padding:16px; }
  #splash { text-align:center; }
  #splash h1 { color:var(--accent); letter-spacing:1px; }
  #startBtn { font-size:18px; padding:14px 22px; border-radius:14px; }
  #game { display:none; }
  .card {
    background:var(--panel); border:2px solid var(--border);
    border-radius:18px; padding:28px; text-align:center;
    font-size:20px; user-select:none;
  }
  .label { color:var(--accent); font-weight:800; margin-bottom:10px; }
  .hint { font-size:12px; color:var(--muted); margin-top:12px; }
  .controls {
    margin-top:14px;
    display:grid; grid-template-columns:repeat(2,1fr); gap:10px;
  }
  button {
    padding:14px; font-size:16px; font-weight:700;
    border-radius:14px; border:none;
    background:var(--btn); color:var(--btnText);
  }
  button.secondary {
    background:rgba(255,255,255,.08);
    border:1px solid rgba(255,255,255,.18);
  }
  .wide { grid-column:span 2; }
  .toast {
    position:fixed; bottom:20px; left:50%; transform:translateX(-50%);
    background:rgba(0,0,0,.8); padding:12px 18px;
    border-radius:999px; font-size:13px;
    opacity:0; transition:.15s; pointer-events:none;
  }
  .toast.show { opacity:1; }
</style>
</head>

<body>
<div class="screen">

  <div id="splash">
    <h1>HAWKINS TRIVIA</h1>
    <p>‚ñ∂ Tap Start to enable audio<br/>üéµ Play ‚ÄúRunning Up That Hill‚Äù on Spotify for full vibe</p>
    <button id="startBtn">‚ñ∂ START GAME</button>
  </div>

  <div id="game">
    <div class="card" id="card">
      <div class="label" id="label">Question</div>
      <div id="text"></div>
      <div class="hint">(tap card to flip)</div>
    </div>

    <div class="controls">
      <button class="secondary" onclick="prevCard()">‚¨Ö Prev</button>
      <button class="secondary" onclick="nextCard()">Next ‚û°</button>
      <button class="secondary" onclick="shuffle()">üß© Shuffle</button>
      <button class="secondary" onclick="toggleTheme()">üëæ Upside Down</button>
      <button class="secondary" onclick="toggleSynth()">üéπ Synth</button>
      <button class="secondary" onclick="toggleDrink()">üçª Drinking</button>
      <button class="wide" onclick="wrongAnswer()">‚ùå WRONG ANSWER</button>
    </div>
  </div>

</div>

<div class="toast" id="toast"></div>

<script>
const cards = [
["What town does Stranger Things take place in?","Hawkins, Indiana"],
["What number is tattooed on Eleven‚Äôs arm?","11"],
["What food does Eleven love the most?","Eggo waffles"],
["What is the alternate dimension called?","The Upside Down"],
["What game do the boys frequently play?","Dungeons & Dragons"],
["Who is the Hawkins police chief?","Jim Hopper"],
["What is Dustin‚Äôs pet called?","Dart"],
["What mall is central to Season 3?","Starcourt Mall"],
["What song helps Max escape Vecna?","Running Up That Hill"],
["What is Vecna‚Äôs real name?","Henry Creel"],
["What year does Season 1 take place?","1983"],
["Who babysits the kids the most?","Steve"]
];

let order=[...Array(cards.length).keys()];
let i=0, showAnswer=false, drinking=false;
let audioCtx=null, synthOn=false, synthOsc=null;

const $=id=>document.getElementById(id);
const toast=msg=>{const t=$("toast");t.textContent=msg;t.classList.add("show");setTimeout(()=>t.classList.remove("show"),1200);};
const vibrate=(ms=40)=>{if(navigator.vibrate)navigator.vibrate(ms);};

function initAudio(){
  if(!audioCtx) audioCtx=new (window.AudioContext||window.webkitAudioContext)();
}

function startSynth(){
  if(!audioCtx || synthOsc) return;
  synthOsc=audioCtx.createOscillator();
  const g=audioCtx.createGain();
  synthOsc.type="triangle";
  synthOsc.frequency.value=110;
  g.gain.value=0.03;
  synthOsc.connect(g); g.connect(audioCtx.destination);
  synthOsc.start();
}

function stopSynth(){
  if(synthOsc){ synthOsc.stop(); synthOsc=null; }
}

function toggleSynth(){
  synthOn=!synthOn;
  if(synthOn){ startSynth(); toast("üéπ Synth ON"); }
  else { stopSynth(); toast("üéπ Synth OFF"); }
}

function hum(){
  if(!audioCtx) return;
  const o=audioCtx.createOscillator(), g=audioCtx.createGain();
  o.type="sawtooth"; o.frequency.value=80;
  g.gain.value=0.05;
  o.connect(g); g.connect(audioCtx.destination);
  o.start(); o.stop(audioCtx.currentTime+0.6);
}

function render(){
  $("label").textContent=showAnswer?"Answer":"Question";
  $("text").textContent=cards[order[i]][showAnswer?1:0];
}

function flip(){showAnswer=!showAnswer; vibrate(); render();}
function nextCard(){i=(i+1)%order.length; showAnswer=false; render();}
function prevCard(){i=(i-1+order.length)%order.length; showAnswer=false; render();}
function shuffle(){order.sort(()=>Math.random()-0.5); i=0; toast("Shuffled"); render();}
function toggleDrink(){drinking=!drinking; toast(drinking?"Drinking ON":"Drinking OFF");}
function toggleTheme(){document.body.classList.toggle("upside");}
function wrongAnswer(){vibrate(80); hum(); toast(drinking?"Wrong! Drink üçª":"Wrong!");}

$("card").onclick=flip;
$("startBtn").onclick=()=>{
  initAudio();
  $("splash").style.display="none";
  $("game").style.display="block";
  render();
};
</script>
</body>
</html>
