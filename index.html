<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Hawkins Trivia</title>

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

<style>
:root{
  --bg:#0b0b0f;--panel:#111219;--text:#fff;--muted:rgba(255,255,255,.7);
  --accent:#b11226;--border:#b11226;--btn:#b11226;--btnText:#fff;
}
body{margin:0;font-family:-apple-system,system-ui,Arial,sans-serif;
background:var(--bg);color:var(--text);height:100vh;display:flex;justify-content:center;align-items:center;}
body.upside{--bg:#050507;--panel:#0a0a0f;--accent:#ff2448;--border:#ff2448;--btn:#ff2448;--btnText:#0b0b0f;}
.screen{width:100%;max-width:580px;padding:16px;}
#splash,#winner{text-align:center;}
#splash h1,#winner h1{color:var(--accent);letter-spacing:1px;}
#startBtn,#restartBtn{font-size:18px;padding:14px 22px;border-radius:14px;}
#game,#winner{display:none;}
.card{background:var(--panel);border:2px solid var(--border);border-radius:18px;padding:26px;text-align:center;font-size:20px;}
.label{color:var(--accent);font-weight:800;margin-bottom:6px;}
.hint{font-size:12px;color:var(--muted);margin-top:8px;}
.controls{margin-top:14px;display:grid;grid-template-columns:repeat(2,1fr);gap:10px;}
button{padding:14px;font-size:15px;font-weight:700;border-radius:14px;border:none;background:var(--btn);color:var(--btnText);}
button.secondary{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.18);}
.wide{grid-column:span 2;}
#scoreboard{margin-bottom:8px;font-size:14px;}
#difficulty{margin-bottom:8px;font-size:18px;text-align:center;}
.team-editor{margin-bottom:10px;font-size:13px;}
.team-editor input{width:70%;padding:6px;border-radius:8px;border:none;}
.team-editor button{padding:6px 10px;font-size:12px;margin-left:4px;}
.toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);
background:rgba(0,0,0,.8);padding:12px 18px;border-radius:999px;font-size:13px;opacity:0;transition:.15s;}
.toast.show{opacity:1;}
</style>
</head>

<body>
<div class="screen">

<div id="splash">
  <h1>HAWKINS TRIVIA</h1>
  <p>Tap Start to unlock audio</p>
  <button id="startBtn">‚ñ∂ START GAME</button>
</div>

<div id="game">
  <div id="difficulty">üü¢ EASY</div>
  <div id="scoreboard"></div>
  <div class="team-editor" id="teamEditor"></div>

  <div class="card" id="card">
    <div class="label" id="label">Question</div>
    <div id="text"></div>
    <div class="hint">(tap card to flip)</div>
  </div>

  <div class="controls">
    <button class="secondary" onclick="prevCard()">‚¨Ö Prev</button>
    <button class="secondary" onclick="nextCard()">Next ‚û°</button>
    <button class="secondary" onclick="shuffle()">üß© Shuffle</button>
    <button class="secondary" onclick="toggleTheme()">üëæ Upside Down</button>
    <button class="secondary" onclick="toggleSynth()">üéπ Synth</button>
    <button class="secondary" onclick="skipCard()">‚è≠ Skip</button>
    <button class="secondary" onclick="correctAnswer()">‚úÖ Correct</button>
    <button class="secondary" onclick="wrongAnswer()">‚ùå Wrong</button>
    <button class="secondary" onclick="addTeam()">‚ûï Team</button>
    <button class="secondary" onclick="removeTeam()">‚ûñ Team</button>
    <button class="wide" onclick="endGame()">üèÜ End Game</button>
  </div>
</div>

<div id="winner">
  <h1>üèÜ WINNER</h1>
  <div id="winnerText"></div>
  <button id="restartBtn" onclick="restart()">üîÅ Play Again</button>
</div>

</div>

<div class="toast" id="toast"></div>

<script>
/* QUESTIONS */
const EASY=[
["What town does Stranger Things take place in?","Hawkins, Indiana"],
["What number is tattooed on Eleven‚Äôs arm?","11"],
["What food does Eleven love the most?","Eggo waffles"],
["What is the alternate dimension called?","The Upside Down"],
["What game do the boys frequently play?","Dungeons & Dragons"],
["Who is the Hawkins police chief?","Jim Hopper"],
["What mall is central to Season 3?","Starcourt Mall"],
["Who babysits the kids the most?","Steve"],
["What year does Season 1 take place?","1983"],
["Who says 'Friends don‚Äôt lie'?","Eleven"],
["What sport does Lucas play?","Basketball"],
["What song helps Max escape Vecna?","Running Up That Hill"],
["What is Steve‚Äôs ice cream shop called?","Scoops Ahoy"],
["What flavor Slurpee does Alexei like?","Cherry"],
["What color are Dustin‚Äôs braces?","Purple"],
["What city is Hawkins located in?","Indiana"],
["What is Eleven‚Äôs real name?","Jane"],
["Who is Dustin‚Äôs best friend?","Lucas"]
];

const MEDIUM=[
["Who is Eleven‚Äôs biological mother?","Terry Ives"],
["What object does Joyce use to communicate with Will?","Christmas lights"],
["What subject does Mr. Clarke teach?","Science"],
["What city do Eleven and Kali go to?","Chicago"],
["What is written on the Hellfire Club shirts?","Hellfire Club"],
["What song plays at the Snow Ball?","Every Breath You Take"],
["What was Hopper‚Äôs daughter‚Äôs name?","Sara"],
["What is Vecna‚Äôs real name?","Henry Creel"],
["What number was Kali?","8"],
["What movie are the kids watching in Season 3?","Back to the Future"],
["Who helps Eleven escape the lab?","Benny Hammond"],
["What nickname does Dustin give Dart?","Dart"],
["What job does Robin have?","Scoops Ahoy"],
["What arcade game do the boys love?","Dig Dug"],
["Who is Max‚Äôs stepbrother?","Billy"],
["What fairground ride traps Nancy and Jonathan?","Ferris wheel"],
["What state fair do they attend?","Hawkins Fair"]
];

const HARD=[
["What was the name of Hawkins Lab‚Äôs director?","Dr. Brenner"],
["What condition affects Eleven‚Äôs mother?","Catatonia"],
["What alias does Eleven use at school?","Jane Hopper"],
["What metal band is Eddie obsessed with?","Metallica"],
["What song does Eddie play in the Upside Down?","Master of Puppets"],
["What is the Mind Flayer‚Äôs original form?","Shadow monster"],
["What prison is Hopper held in?","Kamchatka"],
["What game console do the boys play?","Atari"],
["What letters does Joyce paint on her wall?","Alphabet"],
["What causes the gate to reopen in Season 4?","Vecna"],
["What town does Robin work in Season 4?","Family Video"],
["What is Max writing letters for?","In case she dies"],
["What animal does Dustin think Dart is?","Lizard"],
["What is the Mind Flayer‚Äôs color?","Black"],
["What number experiment was Eleven after?","Eight"]
];

/* GAME STATE */
let difficulty="easy",questionCount=0,shuffleOn=false;
let pool=[...EASY],order=pool.map((_,i)=>i),idx=0,showAnswer=false;

/* TEAMS */
let teams=[{name:"Team 1",score:0},{name:"Team 2",score:0}];
let activeTeam=0;

/* AUDIO */
let audioCtx=null,synthOn=false,arpTimer=null,arpIndex=0;
const arpNotes=[110,165,220,330,247];

const $=id=>document.getElementById(id);
const toast=msg=>{const t=$("toast");t.textContent=msg;t.classList.add("show");setTimeout(()=>t.classList.remove("show"),1200);};
const vibrate=(ms=40)=>{if(navigator.vibrate)navigator.vibrate(ms);};

function initAudio(){if(!audioCtx)audioCtx=new (window.AudioContext||window.webkitAudioContext)();}

function startSynth(){
 if(!audioCtx||arpTimer)return;
 arpTimer=setInterval(()=>{
  const o=audioCtx.createOscillator(),g=audioCtx.createGain();
  o.type="triangle";o.frequency.value=arpNotes[arpIndex%arpNotes.length];
  g.gain.value=0.04;o.connect(g);g.connect(audioCtx.destination);
  o.start();o.stop(audioCtx.currentTime+0.25);arpIndex++;
 },400);
}
function stopSynth(){if(arpTimer){clearInterval(arpTimer);arpTimer=null;}}
function toggleSynth(){synthOn=!synthOn;synthOn?startSynth():stopSynth();toast(synthOn?"üéπ Synth ON":"üéπ Synth OFF");}

function renderScoreboard(){
 $("scoreboard").innerHTML=teams.map((t,i)=>`${i===activeTeam?"üëâ ":""}${t.name}: ${t.score}`).join("<br>");
 const editor=$("teamEditor");
 editor.innerHTML=teams.map((t,i)=>
   `<div>
     <input value="${t.name}" onchange="renameTeam(${i},this.value)">
   </div>`
 ).join("");
}

function renderDifficulty(){
 $("difficulty").textContent=difficulty==="easy"?"üü¢ EASY":difficulty==="medium"?"üü° MEDIUM":"üî¥ HARD";
}

function render(){
 $("label").textContent=showAnswer?"Answer":"Question";
 $("text").textContent=pool[order[idx]][showAnswer?1:0];
 renderScoreboard();renderDifficulty();
}

function advanceDifficulty(){
 if(questionCount===15){difficulty="medium";pool=[...MEDIUM];resetOrder();toast("‚¨ÜÔ∏è Medium");}
 if(questionCount===35){difficulty="hard";pool=[...HARD];resetOrder();toast("‚¨ÜÔ∏è Hard");}
}

function resetOrder(){order=pool.map((_,i)=>i);if(shuffleOn)shuffle();idx=0;}

function flip(){showAnswer=!showAnswer;vibrate();render();}
function nextCard(){questionCount++;advanceDifficulty();idx=(idx+1)%order.length;showAnswer=false;render();}
function prevCard(){idx=(idx-1+order.length)%order.length;showAnswer=false;render();}
function shuffle(){shuffleOn=true;order.sort(()=>Math.random()-0.5);toast("üß© Shuffled");}
function toggleTheme(){document.body.classList.toggle("upside");}

function renameTeam(i,name){teams[i].name=name;renderScoreboard();}
function addTeam(){if(teams.length<6){teams.push({name:`Team ${teams.length+1}`,score:0});toast("‚ûï Team added");render();}}
function removeTeam(){if(teams.length>1){teams.pop();activeTeam=0;toast("‚ûñ Team removed");render();}}
function nextTeam(){activeTeam=(activeTeam+1)%teams.length;}

function correctAnswer(){teams[activeTeam].score++;nextTeam();nextCard();}
function wrongAnswer(){vibrate(80);teams[activeTeam].score--;nextTeam();nextCard();}
function skipCard(){teams[activeTeam].score--;nextTeam();nextCard();}

function endGame(){
 document.getElementById("game").style.display="none";
 document.getElementById("winner").style.display="block";
 const win=[...teams].sort((a,b)=>b.score-a.score)[0];
 document.getElementById("winnerText").innerHTML=`<h2>${win.name}</h2><p>Score: ${win.score}</p>`;
}

function restart(){location.reload();}

document.getElementById("card").onclick=flip;
document.getElementById("startBtn").onclick=()=>{
 initAudio();
 document.getElementById("splash").style.display="none";
 document.getElementById("game").style.display="block";
 render();
};
</script>
</body>
</html>